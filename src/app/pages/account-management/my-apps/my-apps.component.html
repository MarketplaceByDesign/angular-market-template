<div class="bg-container height-unset">
    <div class="container header-padding">
        <img src="assets/img/arrow-left.svg" alt="arrow-icon">
        <a class="font-m font-med pl-1 cursor-pointer link" (click)="goBack()">Back</a>
        <h3 class="page-title page-title-size">My apps</h3>
    </div>
</div>

<div class="container d-flex flex-column">
    <div class="d-flex justify-content-end pt-4 pb-3">
        <div class="no-apps-message"
             *ngIf="appsLoaded && appList?.length === 0">No apps in your list</div>
        <oc-dropdown
            *ngIf="appSorts && appList?.length > 0"
            [options]="appSorts"
            title="Show"
            (selectedChange)="onSortChange($event)"
            [selected]="selectedSort"></oc-dropdown>
    </div>

    <div (scrolled)="onScrollDown()" class="d-flex flex-column" infiniteScroll>
        <oc-app-short-info
            *ngFor="let app of appList"
            [app]="app"
            class="mb-2"
            [customDropdown]="dropdownTemplate"
            (clickByAppCard)="navigateTo(['details', $event.safeName[0]])"></oc-app-short-info>
    </div>
</div>
<div class="mt-8"></div>

<ng-template #dropdownTemplate let-ctx>
    <oc-dropdown-button class="app-options-dropdown"
                        dropdownPlacement="bottom-right"
                        [options]="appOptions"
                        [dropdownTitleTemplate]="dropdownTitleRef"
                        [dropdownItemTemplate]="dropdownItemRef"
                        (selectedChange)="onClickByAppOption($event)"></oc-dropdown-button>
</ng-template>

<ng-template #dropdownTitleRef>
    <div class="app-options-dropdown__title">
        <img src="assets/img/dots-hr-icon.svg" alt="more-icon" class="icon-dots">
    </div>
</ng-template>

<ng-template #dropdownItemRef let-ctx>
    <app-button-action
    [appData]=""
    [buttonAction]="">
    </app-button-action>
</ng-template>
